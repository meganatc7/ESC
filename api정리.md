# 날씨 API 정리

- 초 단기 예보 조회
  - 현재 내시간 2026에 2000정보를 호출하면 데이터가 없다. 
  - 어느 순간부터 (2026 이후) 2030 정보가 호출된다.
  - 내시간 2031에 호출하면 데이터를 받아 올 수 있을까? -> **가능**
  - 즉 XX30 이전에는 그 전꺼를 호출해야하고, XX30 부터는 현재꺼를 호출할 수 있다.
    - ex01) 2024 -> 1930 데이터 호출
    - ex02) 2030 -> 2030 데이터 호출
  - **하루가 지나는 시점인 2300 부터는 어떻게 처리를 해야할까...?**
    - 
  - 초 단기 예보의 데이터 개수는 변한다. 40개 일때도 있고, 60개 일때도 있다.
    - 따라서 40개 일때를 기준으로 4시간 예측 데이터만 보여주자.
    - 추후에 업데이트하게 되면 시간을 더 늘릴 수 있도록 하자.

| 호출 날짜 | 호출 시간 | baseTime(서버에 등록된 시간으로 생각됨) | 예측 정보 시간 | 카테고리 |
| --------- | --------- | ---------------------- | --------- | --------- |
| 20210408  | 2300      | 2330 |0000, 0100, 0200, 0300 **(모든 시간이 다음 날이다. 20210409)**|T1H(기온), SKY(하늘상태), PTY(강수형태)|
| 20210409 | 1942 | 1930 |2000, 2100, 2200, 2300, 0000( 20210410 ),|T1H(기온), SKY(하늘상태), PTY(강수형태)|
| 20210409 | 1759 | 1730 |1800, 1900, 2000, 2100|T1H(기온), SKY(하늘상태), PTY(강수형태)|



- 초 단기 실황 조회
  - 2113에 실황 조회 요청하면 "No_DATA"
  - 언제쯤 될까?
    - 30분 이후에는 2100 데이터를 불러올 수 있다.
  - 총 데이터 개수 8개, 우리가 사용할 거는 2개

| 호출 날짜 | 호출 시간 | 예측 정보 시간 | 카테고리                 |
| --------- | --------- | -------------- | ------------------------ |
| 20210409  | 1937      | 1900           | T1H(기온), PTY(강수형태) |
| 20210409  | 2035      | 2000           | T1H(기온), PTY(강수형태) |



- 초 단기 실황 정보 & 초 단기 예보 정보 조회
  - 둘을 동시에 조회하려면 어떻게 해야할까?
    - **초 단기 예보**는 매시각 45분 이후 호출이 가능하다. (실험상 30 분 즈음에 가능하다.)
    - **초 단기 실황**은 매시각 40분 이후 호출 가능하다. (실험상 26분 이후부터 되긴함)
    - **둘을 동시에 조회하려면 초 단기 예보에 맞춰야 하는걸까?**
      - 30분을 기준으로 시간을 만들면 될거 같다.
      - 현재 내시간 2120에 2100 으로,
        - **단기 실황** 조회시 2000으로 조회하자.
        - **단기 예보** 조회시 2000으로 조회하자.



